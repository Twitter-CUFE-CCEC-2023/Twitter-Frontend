<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: UserNameRow.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: UserNameRow.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import React, { useState } from "react";
import { makeStyles } from "@material-ui/core/styles";
import IconButton from "@material-ui/core/IconButton";
import TableCell from "@material-ui/core/TableCell";
import TableRow from "@material-ui/core/TableRow";
import KeyboardArrowDownIcon from "@material-ui/icons/KeyboardArrowDown";
import KeyboardArrowUpIcon from "@material-ui/icons/KeyboardArrowUp";
import Avatar from "@material-ui/core/Avatar";

import BootstrapButton from "../../../BootstrapButton";
import BanModal from "../Modal/BanModal";
import UnBanModal from "../Modal/UnBanModal";

const COLORS = [
  "#0088FE",
  "#FFBB28",
  "#00C49F",
  "#5946FA",
  "#FA4145",
  "#C646E3",
  "#FF8042",
];
// const COLORS = ["red", "green", "blue", "violet"];

const useRowStyles = makeStyles({
  root: {
    "&amp; > *": {
      borderBottom: "unset",
    },
  },
});

const UserNameRow = (props) => {
  const classes = useRowStyles();

  const [ban, setBan] = useState(props.ban);
  const [openModalBan, setOpenModalBan] = useState(false);
  const [openModalUnban, setOpenModalUnban] = useState(false);

  /**@module AdminPage-UsersTable-TableRow */

  /**
   * @function closeModalBan
   * @name closeModalBan
   * @description Close the Ban modal after a timeout when submitted
   * @param {boolean} value ban value
   */
  const closeModalBan = (value) => {
    setTimeout(() => {
      setOpenModalBan(value);
    }, 100);
  };

  /**
   * @function closeModalUnban
   * @name closeModalUnban
   * @description Close the UnBan modal after a timeout when submitted
   * @param {boolean} value unban value
   */
  const closeModalUnban = (value) => {
    setTimeout(() => {
      setOpenModalUnban(value);
    }, 100);
  };

  /**
   * @function handleBanModal
   * @name handleBanModal
   * @description Handle which modal to be opened (if user banned and the button is clicked => open unban modal)
   */
  const handleBanModal = () => {
    if (!ban) {
      setOpenModalBan(true);
    } else {
      setOpenModalUnban(true);
    }
  };

  /**
   * @function handleBanSuccess
   * @name handleBanSuccess
   * @description Ban the user and close the modal after a timeout
   * @param {boolean} value unban value
   */
  const handleBanSuccess = (val) => {
    setTimeout(() => {
      setBan(val);
      setOpenModalBan(false);
      setOpenModalUnban(false);
    }, 1000);
  };

  return (
    &lt;TableRow className={`${classes.root}`}>
      &lt;TableCell>
        &lt;IconButton
          aria-label="expand row"
          size="small"
          onClick={props.handleOpen}
        >
          {props.open ? &lt;KeyboardArrowUpIcon /> : &lt;KeyboardArrowDownIcon />}
        &lt;/IconButton>
      &lt;/TableCell>
      &lt;TableCell component="th" scope="row">
        &lt;Avatar
          style={{
            backgroundColor: `${COLORS[props.id % COLORS.length]}`,
            marginRight: "15px",
            display: "inline-grid",
          }}
        >
          {props.name[0].toUpperCase()}
        &lt;/Avatar>
        {props.name}
      &lt;/TableCell>
      &lt;TableCell align="center">
        &lt;BootstrapButton
          variant="contained"
          color="primary"
          disableRipple
          className={classes.margin}
          onClick={handleBanModal}
        >
          {!ban &amp;&amp; &lt;span>ban&lt;/span>}
          {ban &amp;&amp; &lt;span>unban&lt;/span>}
          {openModalBan &amp;&amp; !ban &amp;&amp; (
            &lt;BanModal
              setOpenModalValue={closeModalBan}
              open={openModalBan}
              userId={props.userId}
              handleBanSuccessFn={handleBanSuccess}
            />
          )}
          {openModalUnban &amp;&amp; ban &amp;&amp; (
            &lt;UnBanModal
              setOpenModalValue={closeModalUnban}
              open={openModalUnban}
              userId={props.userId}
              handleBanSuccessFn={handleBanSuccess}
            />
          )}
        &lt;/BootstrapButton>
      &lt;/TableCell>
    &lt;/TableRow>
  );
};

export default UserNameRow;
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-AdminPage-UsersTable-TableRow.html">AdminPage-UsersTable-TableRow</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.10</a> on Tue May 24 2022 19:58:53 GMT+0200 (Eastern European Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
