<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: TimeLinePage/LeftSideBar/LeftSideBar.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: TimeLinePage/LeftSideBar/LeftSideBar.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import React, { useEffect, useState } from "react";
import classes from "./LeftSideBar.module.css";
import classesLeftButton from "./LeftButton.module.css";
import TweetButton from "./TweetButton";
import LeftButton from "./LeftButton";
import TwitterIcon from "@material-ui/icons/Twitter";
import HomeIcon from "@material-ui/icons/Home";
import HomeOutlinedIcon from "@material-ui/icons/HomeOutlined";
//import SearchOutlinedIcon from "@material-ui/icons/SearchOutlined";
import PageviewOutlinedIcon from "@material-ui/icons/PageviewOutlined";
import PageviewIcon from "@material-ui/icons/Pageview";
import NotificationsNoneOutlinedIcon from "@material-ui/icons/NotificationsNoneOutlined";
import NotificationsIcon from "@material-ui/icons/Notifications";
import LocalPostOfficeOutlinedIcon from "@material-ui/icons/LocalPostOfficeOutlined";
import LocalPostOfficeIcon from "@material-ui/icons/LocalPostOffice";
import BookmarkBorderOutlinedIcon from "@material-ui/icons/BookmarkBorderOutlined";
import BookmarkIcon from "@material-ui/icons/Bookmark";
import ViewListOutlinedIcon from "@material-ui/icons/ViewListOutlined";
import ViewListIcon from "@material-ui/icons/ViewList";
import AccountCircleOutlinedIcon from "@material-ui/icons/AccountCircleOutlined";
import AccountCircleIcon from "@material-ui/icons/AccountCircle";
import MoreOutlinedIcon from "@material-ui/icons/MoreOutlined";
import AccountButton from "./AccountButton";
import NotificationAddOutlinedIcon from "@mui/icons-material/NotificationAddOutlined";
import instance from "../../axios";

import MoreButton from "./MoreButton";
/**
 * The left side bar to navigate to different pages
 */
const LeftSideBar = (props) => {
  const [moreSelected, setMoreSelected] = useState(false);
  const [unreadNotes, setUnreadNotes] = useState(0);
  const currentuser = JSON.parse(localStorage.getItem("UserInfo"));
  const pathname = window.location.pathname.toLowerCase();

  const [pageActive, setPageActive] = React.useState(
    new Map([
      ["home", pathname === "home"],
      ["explore", pathname === "explore"],
      ["notifications", pathname === "notifications"],
      ["mentionnotifications", pathname === "mentionnotifications"],
      ["messages", pathname === "messages"],
      ["bookmarks", pathname === "i/bookmarks"],
      ["lists", pathname === "profileName/lists"],
      ["userprofile", pathname.includes("userprofile")],
      ["more", pathname === "more"],
    ])
  );

  useEffect(() => {
    setPageActive((prevPageActive) => {
      let newPageActive = new Map(prevPageActive);
      [...newPageActive.keys()].forEach((key) => {
        newPageActive.set(key, false);
      });
      newPageActive.set(pathname.substring(1, pathname.length), true);
      return newPageActive;
    });
  }, [pathname]);

  useEffect(() => getUnreadNotes());

  const getUnreadNotes = async () => {
    let numUnreadResponse;
    let numUnread;
    // console.log("fetching search results");
    numUnreadResponse = await instance.get(`/count-notifications`);
    numUnread = numUnreadResponse.data.count;
    setUnreadNotes(numUnread);
  };

  return (
    &lt;div className={classes.leftSideBar}>
      {!moreSelected &amp;&amp; (
        &lt;div className={classes.twitterIcon}>
          {" "}
          &lt;TwitterIcon className={classes.iconTest} />{" "}
        &lt;/div>
      )}
      {!moreSelected &amp;&amp; (
        &lt;div data-testid="homeButton" className={classes.phoneVis}>
          &lt;LeftButton
            Icon={HomeOutlinedIcon}
            IconActive={HomeIcon}
            url="home"
            title="Home"
            onPage={pageActive.get("home")}
          />
        &lt;/div>
      )}
      {!moreSelected &amp;&amp; (
        &lt;div data-testid="exploreButton" className={classes.phoneVis}>
          &lt;LeftButton
            Icon={PageviewOutlinedIcon}
            IconActive={PageviewIcon}
            url="explore"
            title="Explore"
            onPage={pageActive.get("explore")}
          />
        &lt;/div>
      )}
      {!moreSelected &amp;&amp; (
        &lt;div data-testid="notificationsButton" className={classes.phoneVis}>
          &lt;LeftButton
            Icon={NotificationsNoneOutlinedIcon}
            IconActive={NotificationsIcon}
            url="notifications"
            title="Notifications"
            onPage={
              pageActive.get("notifications") ||
              pageActive.get("mentionnotifications")
            }
          />
          {unreadNotes !== 0 &amp;&amp; (
            &lt;div className={classes.numberCircle}>{unreadNotes}&lt;/div>
          )}
        &lt;/div>
      )}
      {!moreSelected &amp;&amp; (
        &lt;div data-testid="messagesButton" className={classes.phoneVis}>
          &lt;LeftButton
            Icon={LocalPostOfficeOutlinedIcon}
            IconActive={LocalPostOfficeIcon}
            url="messages"
            title="Messages"
            onPage={pageActive.get("messages")}
          />
        &lt;/div>
      )}
      {!moreSelected &amp;&amp; (
        &lt;div data-testid="bookmarksButton" className={classes.phoneInvis}>
          &lt;LeftButton
            Icon={BookmarkBorderOutlinedIcon}
            IconActive={BookmarkIcon}
            url="i/bookmarks"
            title="Bookmarks"
            onPage={pageActive.get("i/bookmarks")}
          />
        &lt;/div>
      )}
      {!moreSelected &amp;&amp; (
        &lt;div data-testid="listsButton" className={classes.phoneInvis}>
          &lt;LeftButton
            Icon={ViewListOutlinedIcon}
            IconActive={ViewListIcon}
            url="profileName/lists"
            title="Lists"
            onPage={pageActive.get("profilename/lists")}
          />
        &lt;/div>
      )}{" "}
      {/* profile name is the logged in user in the future*/}
      {!moreSelected &amp;&amp; (
        &lt;div data-testid="profileButton" className={classes.phoneInvis}>
          &lt;LeftButton
            Icon={AccountCircleOutlinedIcon}
            IconActive={AccountCircleIcon}
            url={`userprofile/${currentuser ? currentuser.username : null}`}
            title="Profile"
            onPage={pageActive.get("userprofile")}
          />
        &lt;/div>
      )}
      &lt;MoreButton />
      {/* {!moreSelected &amp;&amp; (
        &lt;div
          className={`${classesLeftButton.leftButton} ${classes.phoneInvis}`}
        >
          &lt;MoreOutlinedIcon />
          &lt;p
            className={classesLeftButton.title}
            onClick={() => setMoreSelected(true)}
          >
            More
          &lt;/p>
        &lt;/div>
      )}{" "} */}
      {/* need to add the functionality of more */}
      &lt;div className={classes.phoneInvis}>
        &lt;TweetButton
          addTweet={props.addTweet}
          changePostingTweet={props.changePostingTweet}
        />

        &lt;AccountButton />
      &lt;/div>
    &lt;/div>
  );
};

export default LeftSideBar;
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#AccountButton">AccountButton</a></li><li><a href="global.html#DeleteModal">DeleteModal</a></li><li><a href="global.html#ImageGrid">ImageGrid</a></li><li><a href="global.html#LeftSideBar">LeftSideBar</a></li><li><a href="global.html#MiniProfile">MiniProfile</a></li><li><a href="global.html#MoreButton">MoreButton</a></li><li><a href="global.html#PhotosPage">PhotosPage</a></li><li><a href="global.html#rotateSize">rotateSize</a></li><li><a href="global.html#TweetAndReplies">TweetAndReplies</a></li><li><a href="global.html#TweetAtrribute">TweetAtrribute</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.10</a> on Tue May 24 2022 20:05:32 GMT+0200 (Eastern European Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
